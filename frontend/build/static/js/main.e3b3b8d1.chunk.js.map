{"version":3,"sources":["resources/ding.mp3","resources/waterdrop2.mp3","resources/computerError2.mp3","components/TradeTableButton.js","components/TradeTable.js","components/StalkMarketTable.js","components/YourInformation.js","components/YourStalkTable.js","components/StalkUtil.js","components/TradeMainPage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","TradeTableButton","props","state","isLoading","actionType","trade","icon","onHandleClick","toggleLoading","bind","console","log","this","setState","buttonContent","Fragment","Button","Content","visible","hidden","Icon","name","self","animated","onClick","seller","turnipCode","buyer","Component","TradeTable","type","islanderSide","index","Table","Cell","style","width","verticalAlign","color","prevState","islands","length","previousIsland","Label","as","ribbon","href","description","dodoCodes","tag","turnipPrice","yourPlaces","maxQueue","queuedStr","trades","Divider","horizontal","Header","sectionIcon","sectionName","celled","striped","Row","HeaderCell","colSpan","createBody","statuses","queueIDs","StalkMarketTable","message","map","createTradeRow","createActionButton","Body","colspan","goodTrades","filter","subparTrades","createConditionRows","YourInformation","Input","defaultValue","visitorName","onChange","onInfoChanged","YourStalkTable","status","Segment","action","data","visitors","visitor","key","$id","place","JSON","stringify","timestamp","Date","toLocaleTimeString","island","panels","title","content","Accordion","exclusive","defaultActiveIndex","fluid","sellSide","buySide","reverse","isSkippableStatus","push","getStatusColor","getRibbonMessage","getStatusMessage","createAccordion","createStatusRows","StalkUtil","ms","Promise","resolve","setTimeout","TradeMainPage","cookies","Cookies","visitorIDs","failedTrades","get","yourTrades","turnipQueueIDs","handlePing","handleJoin","handleInfo","handleYourPlaces","handleVisitorID","handleReconnect","currentButtonElement","visitorID","ws","WebSocket","reject","onopen","event","send","onerror","onmessage","obj","parse","undefined","autoSave","side","success","mapping","yourPlace","onIsland","dodoCode","playSound","window","location","indexOf","url","callback","fetch","handleURLBase","then","response","json","sellerTurnipCode","buyerTurnipCode","callBack","sleepCount","seller_url","handleFetch","sleep","buyer_url","setTrades","getTrades","element","statues","handleQueue","sellerIsland","buyerIsland","islandName","reason","alert","rId","splice","audioEl","document","getElementsByClassName","play","res","ok","Error","catch","error","notify","getTradesServer","set","path","setInterval","autoPing","ReactGA","initialize","pageview","autoRefresh","isDevelopment","initializeGA","target","value","Container","ref","alertSound","handleClick","className","src","dingMP3","errorMP3","waterdropMP3","App","Boolean","hostname","match","styleLink","createElement","rel","head","appendChild","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e3b3b8d1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ding.2d524655.mp3\";","module.exports = __webpack_public_path__ + \"static/media/waterdrop2.31a564d2.mp3\";","module.exports = __webpack_public_path__ + \"static/media/computerError2.6583b7bd.mp3\";","import React, { Component } from \"react\";\nimport { Button, Icon } from \"semantic-ui-react\";\n\nclass TradeTableButton extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { isLoading: true };\n    this.actionType = this.props.actionType;\n    this.trade = this.props.trade;\n    this.icon = this.props.icon;\n    this.onHandleClick = this.props.onHandleClick;\n    this.toggleLoading = this.toggleLoading.bind(this);\n  }\n\n  toggleLoading() {\n    console.log(\"Toggle Loading...\");\n    this.setState((state) => ({\n      isLoading: !state.isLoading,\n    }));\n  }\n\n  render() {\n    let buttonContent;\n    if (this.state.isLoading) {\n      buttonContent = (\n        <React.Fragment>\n          <Button.Content visible>{this.icon}</Button.Content>\n          <Button.Content hidden>{this.actionType}</Button.Content>\n        </React.Fragment>\n      );\n    } else {\n      buttonContent = (\n        <React.Fragment>\n          <Button.Content visible>\n            <Icon name=\"spinner\" />\n          </Button.Content>\n          <Button.Content hidden>Loading</Button.Content>\n        </React.Fragment>\n      );\n    }\n    let self = this;\n    return (\n      <Button\n        animated=\"vertical\"\n        onClick={function () {\n          self.onHandleClick(\n            self,\n            self.actionType,\n            self.trade.seller.turnipCode,\n            self.trade.buyer.turnipCode\n          );\n          self.toggleLoading();\n        }}\n      >\n        {buttonContent}\n      </Button>\n    );\n  }\n}\n\nexport default TradeTableButton;\n","import React, { Component } from \"react\";\nimport { Label, Table, Divider, Header } from \"semantic-ui-react\";\nimport TradeTableButton from \"./TradeTableButton\";\nclass TradeTable extends Component {\n  /* Component Rendering */\n  createActionButton(actionType, trade, icon) {\n    return (\n      <TradeTableButton\n        onHandleClick={this.props.onHandleClick}\n        actionType={actionType}\n        trade={trade}\n        icon={icon}\n      />\n    );\n  }\n\n  createTradeRow(type, islanderSide, index) {\n    if (!islanderSide) {\n      return (\n        <React.Fragment>\n          <Table.Cell style={{ width: 300 }} verticalAlign=\"top\">\n            No Information.\n          </Table.Cell>\n          <Table.Cell>--</Table.Cell>\n          <Table.Cell>--</Table.Cell>\n        </React.Fragment>\n      );\n    }\n    let color = \"white\";\n    if (\n      index !== -1 &&\n      this.prevState &&\n      this.prevState.islands.length > index\n    ) {\n      let previousIsland;\n      switch (type) {\n        case \"seller\":\n          previousIsland = this.prevState.islands[index].seller;\n          break;\n        case \"buyer\":\n          previousIsland = this.prevState.islands[index].buyer;\n          break;\n        default:\n          break;\n      }\n      if (previousIsland.turnipCode !== islanderSide.turnipCode) {\n        color = \"teal\";\n      }\n    }\n\n    return (\n      <React.Fragment>\n        <Table.Cell style={{ width: 300 }} verticalAlign=\"top\">\n          {/* <Transition.Group animation={\"flash\"} duration={1000} visible={true}> */}\n          <Label as=\"a\" color={color} ribbon>\n            <a\n              href={\"https://turnip.exchange/island/\" + islanderSide.turnipCode}\n            >\n              {islanderSide.name}\n            </a>\n          </Label>\n          {/* this will mess up the table: fix this */}\n          <span>{islanderSide.description}</span>\n          <span>\n            <br />\n            {this.props.dodoCodes &&\n            this.props.dodoCodes[islanderSide.turnipCode] ? (\n              <Label as=\"a\" color=\"green\">\n                {this.props.dodoCodes[islanderSide.turnipCode]}\n              </Label>\n            ) : (\n              \"\"\n            )}\n          </span>\n          {/* </Transition.Group> */}\n        </Table.Cell>\n        <Table.Cell>\n          <Label tag>${islanderSide.turnipPrice}</Label>\n        </Table.Cell>\n        <Table.Cell>\n          {/* you should abstract below out and make it more specific to the said component */}\n          {this.props.yourPlaces &&\n          this.props.yourPlaces[islanderSide.turnipCode]\n            ? this.props.yourPlaces[islanderSide.turnipCode] +\n              \"/\" +\n              islanderSide.maxQueue\n            : islanderSide.queuedStr}\n        </Table.Cell>\n      </React.Fragment>\n    );\n  }\n\n  createBody(trades) {\n    console.log(\"Error: Empty body\");\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Divider horizontal>\n          <Header as=\"h4\">\n            {this.props.sectionIcon}\n            {this.props.sectionName}\n          </Header>\n        </Divider>\n        <Table celled striped>\n          <Table.Header>\n            <Table.Row>\n              <Table.HeaderCell colSpan=\"3\">Daisy</Table.HeaderCell>\n              <Table.HeaderCell colSpan=\"3\">Tommy</Table.HeaderCell>\n              <Table.HeaderCell>&nbsp;</Table.HeaderCell>\n            </Table.Row>\n          </Table.Header>\n          {this.createBody(\n            this.props.trades,\n            this.props.statuses,\n            this.props.queueIDs\n          )}\n        </Table>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default TradeTable;\n","import React from \"react\";\nimport { Icon, Table } from \"semantic-ui-react\";\nimport TradeTable from \"./TradeTable\";\n\nclass StalkMarketTable extends TradeTable {\n  createConditionRows(trades, message) {\n    if (trades.length <= 0) {\n      return (\n        <Table.Row>\n          <Table.Cell colSpan=\"7\">\n            <Icon name=\"x\" />\n            {message}\n          </Table.Cell>\n        </Table.Row>\n      );\n    } else {\n      return trades.map((trade, index) => (\n        <Table.Row>\n          {this.createTradeRow(\"seller\", trade.seller, index)}\n          {this.createTradeRow(\"buyer\", trade.buyer, index)}\n          <Table.Cell>\n            {this.createActionButton(\n              \"join\",\n              trade,\n              <Icon name=\"angle double up\" />\n            )}\n          </Table.Cell>\n        </Table.Row>\n      ));\n    }\n  }\n\n  createBody(trades) {\n    if (trades.length <= 0) {\n      return (\n        <Table.Body>\n          <Table.Row>\n            <Table.Cell colspan=\"7\">\n              <Icon name=\"hourglass start\" />\n              Please wait...\n            </Table.Cell>\n          </Table.Row>\n        </Table.Body>\n      );\n    }\n    let goodTrades = trades.filter((trade) => trade.buyer.turnipPrice >= 300);\n    let subparTrades = trades.filter((trade) => trade.buyer.turnipPrice < 300);\n\n    return (\n      <Table.Body>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"7\">\n            <Icon name=\"announcement\" />\n            These ones are superb.\n          </Table.HeaderCell>\n        </Table.Row>\n        {this.createConditionRows(\n          goodTrades,\n          \"No good trades are available now.\"\n        )}\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"7\">\n            <Icon name=\"dont\" />\n            These ones are less than ideal.\n          </Table.HeaderCell>\n        </Table.Row>\n        {this.createConditionRows(\n          subparTrades,\n          \"No subpar trades are available now.\"\n        )}\n      </Table.Body>\n    );\n  }\n}\n\nexport default StalkMarketTable;\n","import React, { Component } from \"react\";\nimport { Icon, Input, Divider, Header } from \"semantic-ui-react\";\n\nclass YourInformation extends Component {\n  render() {\n    return (\n      <React.Fragment>\n        <Divider horizontal>\n          <Header as=\"h4\">\n            <Icon name=\"info circle\" />\n            Your Information\n          </Header>\n        </Divider>\n        <Input\n          name=\"Name\"\n          defaultValue={this.props.visitorName}\n          onChange={this.props.onInfoChanged}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default YourInformation;\n","import React from \"react\";\nimport { Icon, Table, Segment, Label, Accordion } from \"semantic-ui-react\";\nimport TradeTable from \"./TradeTable\";\n\nclass YourStalkTable extends TradeTable {\n  createStatusSegment(status) {\n    console.log(\"Creating status segment\");\n    return (\n      <Segment>\n        {status.action} - {status.data}\n      </Segment>\n    );\n  }\n\n  getStatusColor(type) {\n    switch (type) {\n      case \"islandUpdated\":\n        return \"purple\";\n      case \"queueUpdated\":\n        return \"olive\";\n      case \"alert\":\n        return \"red\";\n      default:\n        return \"grey\";\n    }\n  }\n\n  getStatusMessage(data, queueIDs) {\n    switch (data.action) {\n      case \"joined\":\n        return \"joined queue.\";\n      case \"islandUpdated\":\n        return data.data.description;\n      case \"queueUpdated\":\n        var message = \"you are not in the queue?\";\n        data.data.visitors.map((visitor) => {\n          for (let key in queueIDs) {\n            if (queueIDs[key] === visitor.$id) {\n              message = \"your place: \" + visitor.place;\n            }\n          }\n        });\n        return message;\n      case \"alert\":\n        return data.data.message;\n      default:\n        return JSON.stringify(data);\n    }\n  }\n\n  getRibbonMessage(data) {\n    if (data.data.timestamp) {\n      return new Date(data.data.timestamp * 1000).toLocaleTimeString();\n    }\n    switch (data.action) {\n      case \"queueUpdated\":\n      case \"joined\":\n        return <Icon name=\"thumbs up\" />;\n      case \"islandUpdated\":\n        return <Icon name=\"exclamation circle\" />;\n      case \"alert\":\n        return <Icon name=\"times circle\" />;\n      default:\n        return <Icon name=\"question circle\" />;\n    }\n  }\n\n  isSkippableStatus(data) {\n    switch (data.action) {\n      //   case \"joined\":\n      case \"testing\":\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  createAccordion(turnipCode, island, data) {\n    if (data.length > 0) {\n      let panels = [\n        {\n          key: turnipCode,\n          title: {\n            content: (\n              <Label color=\"grey\" horizontal>\n                <Icon name=\"unordered list\" />\n                {island.name + \"'s events\"}\n              </Label>\n            ),\n          },\n          content: data,\n        },\n      ];\n      return (\n        <Accordion\n          panels={panels}\n          exclusive={false}\n          defaultActiveIndex={[0]}\n          fluid\n        />\n      );\n    }\n  }\n  createStatusRows(trade, statuses, queueIDs) {\n    let sellSide = [];\n    let buySide = [];\n    if (statuses[trade.seller.turnipCode]) {\n      statuses[trade.seller.turnipCode].reverse().map((status) =>\n        !this.isSkippableStatus(status)\n          ? sellSide.push(\n              <React.Fragment>\n                <Segment color={this.getStatusColor(status.action)}>\n                  <Label color={this.getStatusColor(status.action)} ribbon>\n                    {this.getRibbonMessage(status)}\n                  </Label>\n                  {this.getStatusMessage(status, queueIDs)}\n                </Segment>\n              </React.Fragment>\n            )\n          : sellSide\n      );\n    }\n    if (statuses[trade.buyer.turnipCode]) {\n      statuses[trade.buyer.turnipCode].reverse().map((status) =>\n        !this.isSkippableStatus(status)\n          ? buySide.push(\n              <React.Fragment>\n                <Segment color={this.getStatusColor(status.action)}>\n                  <Label color={this.getStatusColor(status.action)} ribbon>\n                    {this.getRibbonMessage(status)}\n                  </Label>\n                  {this.getStatusMessage(status, queueIDs)}\n                </Segment>\n              </React.Fragment>\n            )\n          : buySide\n      );\n    }\n\n    // \"{\"action\":\"alert\",\"data\":{\"turnipCode\":\"8a2312de\",\"message\":\"Visitors of hornyland, your attention, please.<br><br> \\n\\t\\t\\t\\t\\tWe have detected this islands gates are no longer responding. I\n    // \"{\"action\":\"queueUpdated\",\"data\":{\"turnipCode\":\"f421e430\",\"timestamp\":1589230865,\"visitorCount\":1,\"visitors\":[{\"$id\":10533268,\"name\":\"Katie Bug\",\"place\":1,\"time\":4},{\"$id\":10533757,\"nam\n    // \"{\"action\":\"islandUpdated\",\"data\":{\"description\":\"there is no fee but i'm in desperate need of nmt so it would be nice if you could bring some but that's it\",\"locked\":1,\"private\":0,\"paused\n    return (\n      <Table.Row>\n        <Table.Cell colspan=\"3\" verticalAlign=\"top\">\n          {this.createAccordion(\n            trade.seller.turnipCode,\n            trade.seller,\n            sellSide\n          )}\n        </Table.Cell>\n        <Table.Cell colspan=\"3\" verticalAlign=\"top\">\n          {this.createAccordion(trade.buyer.turnipCode, trade.buyer, buySide)}\n        </Table.Cell>\n        <Table.Cell></Table.Cell>\n      </Table.Row>\n    );\n  }\n\n  createBody(trades, statuses, queueIDs) {\n    return (\n      <Table.Body>\n        {trades.map((trade, index) => (\n          <React.Fragment>\n            <Table.Row>\n              {this.createTradeRow(\"seller\", trade.seller, -1)}\n              {this.createTradeRow(\"buyer\", trade.buyer, -1)}\n              <Table.Cell>\n                {this.createActionButton(\n                  \"leave\",\n                  trade,\n                  <Icon name=\"angle double down\" />\n                )}\n\n                {/* {this.createActionButton(\n                  \"grab\",\n                  trade,\n                  <Icon name=\"angle double right\" />\n                )}\n                {this.createActionButton(\n                  \"ping\",\n                  trade,\n                  <Icon name=\"angle double left\" />\n                )} */}\n              </Table.Cell>\n            </Table.Row>\n            <Table.Row>\n              <Table.Cell colspan=\"7\">Status: </Table.Cell>\n            </Table.Row>\n            {this.createStatusRows(trade, statuses, queueIDs)}\n          </React.Fragment>\n        ))}\n      </Table.Body>\n    );\n  }\n}\n\nexport default YourStalkTable;\n","class StalkUtil {\n  static sleep(ms) {\n    console.log(\"Going to sleep for \" + ms + \"ms\");\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n\nexport default StalkUtil;\n","import React, { Component } from \"react\";\nimport { Icon, Container } from \"semantic-ui-react\";\nimport Cookies from \"universal-cookie\";\nimport StalkMarketTable from \"./StalkMarketTable\";\nimport YourInformation from \"./YourInformation\";\nimport YourStalkTable from \"./YourStalkTable\";\nimport StalkUtil from \"./StalkUtil\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport dingMP3 from \"../resources/ding.mp3\";\nimport waterdropMP3 from \"../resources/waterdrop2.mp3\";\nimport errorMP3 from \"../resources/computerError2.mp3\";\n// import Facilitator from \"../../../bkup/utils/facilitator\";\nimport ReactGA from \"react-ga\";\nclass TradeMainPage extends Component {\n  constructor(props) {\n    super(props);\n\n    const cookies = new Cookies();\n    this.cookies = cookies;\n    this.visitorIDs = {};\n    this.failedTrades = {};\n    if (!cookies.get(\"tradeState\")) {\n      this.state = {\n        islands: [],\n        visitorName: \"\",\n        yourPlaces: [],\n        yourTrades: [],\n        visitorIDs: {},\n        dodoCodes: {},\n        turnipQueueIDs: {},\n      };\n    } else {\n      this.state = {\n        islands: [],\n        visitorIDs: cookies.get(\"visitorIDs\"),\n        visitorName: cookies.get(\"visitorName\"),\n        yourTrades: cookies.get(\"yourTrades\"),\n        yourPlaces: cookies.get(\"yourPlaces\"),\n        turnipQueueIDs: cookies.get(\"turnipQueueIDs\"),\n        dodoCodes: {},\n      };\n      this.visitorIDs = cookies.get(\"visitorIDs\");\n    }\n    this.state.statuses = {};\n    this.handlePing = this.handlePing.bind(this);\n    this.handleJoin = this.handleJoin.bind(this);\n    this.handleInfo = this.handleInfo.bind(this);\n    this.handleYourPlaces = this.handleYourPlaces.bind(this);\n    this.handleVisitorID = this.handleVisitorID.bind(this);\n    this.handleReconnect = this.handleReconnect.bind(this);\n    this.currentButtonElement = null;\n  }\n\n  handleReconnect() {\n    for (let turnipCode in this.visitorIDs) {\n      let visitorID = this.visitorIDs[turnipCode];\n      console.log(\"Trying to reconnect: (\" + turnipCode + \") - \" + visitorID);\n      this.handleVisitorID(turnipCode, visitorID);\n    }\n  }\n\n  handleVisitorID(turnipCode, visitorID) {\n    console.log(\"handleVisitorID: \" + turnipCode);\n    let wss_url =\n      \"wss://w92pvtybp7.execute-api.us-west-2.amazonaws.com/production\";\n    const ws = new WebSocket(wss_url);\n    var self = this;\n\n    return new Promise(function (resolve, reject) {\n      ws.onopen = function (event) {\n        let data = {\n          action: \"join\",\n          turnipCode: turnipCode,\n          visitorID: visitorID, // null to create a new one.\n        };\n        ws.send(JSON.stringify(data));\n      };\n      ws.onerror = function (event) {\n        console.log(\"Error opening ws connection\");\n        console.log(event);\n        reject();\n      };\n\n      ws.onmessage = function (event) {\n        console.log(event);\n        let obj = JSON.parse(event.data);\n        if (!self.state.statuses[turnipCode]) {\n          self.state.statuses[turnipCode] = [];\n        }\n        self.state.statuses[turnipCode].push({\n          action: obj.action,\n          data: obj.data,\n        });\n\n        self.setState({\n          statuses: self.state.statuses,\n        });\n        console.log(\"Status Updated:\");\n        console.log(self.state.statuses);\n        switch (obj.action) {\n          case \"joined\":\n            if (obj.data.visitorID !== undefined) {\n              self.state.visitorID = obj.data.visitorID;\n              console.log(\n                \"VisitorID obtained for (\" +\n                  turnipCode +\n                  \"): \" +\n                  self.state.visitorID\n              );\n\n              self.visitorIDs[turnipCode] = obj.data.visitorID;\n              self.autoSave();\n            }\n            break;\n          case \"queueUpdated\":\n            obj.data.visitors.map((visitor) => {\n              for (let key in self.state.turnipQueueIDs) {\n                if (self.state.turnipQueueIDs[key] === visitor.$id) {\n                  // message = \"your place: \" + visitor.place;\n                  console.log(\"[WS] visitor.place: \" + visitor.place);\n                  if (!self.state.yourPlaces) {\n                    self.state.yourPlaces = {};\n                  }\n                  self.state.yourPlaces[key] = visitor.place;\n                  self.setState({\n                    yourPlaces: self.state.yourPlaces,\n                  });\n                }\n              }\n            });\n            break;\n          default:\n            console.log(\"Unknown wss action: \" + obj.action);\n        }\n        console.log(\"done handling ws\");\n        resolve();\n      };\n    });\n  }\n\n  handleYourPlaces(action, data, turnipCode) {\n    switch (action) {\n      case \"update\":\n        if (data[\"yourPlace\"]) {\n          // this condition is only for playing the sound.\n          // if (this.state.yourPlaces[turnipCode] !== data.yourPlace) {\n          //   // this.waterdrop.audioEl.current.play();\n          //   console.log(\"Do you still need this code path?\");\n          // }\n          // Investigation: why is this failing?\n          // this.state.yourPlaces[turnipCode] = data.yourPlace;\n        }\n        break;\n      case \"remove\":\n        if (this.state.yourPlaces[turnipCode]) {\n          delete this.state.yourPlaces[turnipCode];\n        }\n        break;\n      default:\n        console.log(\"unknown your places' action type\");\n        break;\n    }\n    this.autoSave();\n  }\n\n  handleJoin(side, turnipCode, data) {\n    console.log(\"Join: \" + side);\n    console.log(data);\n    if (side === \"sell\") {\n    } else if (side === \"buy\") {\n    }\n\n    if (!data.success) {\n      // that means we couldn't join for some reasons.\n      this.failedTrades[turnipCode] = data.message;\n    } else {\n      // add to $id table\n      // console.log(\"Missing Impl: Should build data.$id-turnipCode map\");\n      // turnipIDMap[turnipCode] = data.$id\n      let mapping =\n        this.state.turnipQueueIDs && this.state.turnipQueueIDs !== \"undefined\"\n          ? this.state.turnipQueueIDs\n          : {};\n      mapping[turnipCode] = data.$id;\n      console.log(\"Obtained IDs\");\n      console.log(mapping);\n      this.setState({\n        turnipQueueIDs: mapping,\n      });\n      // this.state.turnipQueueIDs[turnipCode] = data.$id;\n    }\n\n    // if (type === \"leave\") {\n    //   this.handleYourPlaces(\"remove\", null, turnipCode);\n    // }\n  }\n\n  handleGrab() {\n    // {success: true, message: \"Grabbed code!\", dodoCode: \"6Y81G\"}\n    // {success: true, grabbed: false}\n  }\n\n  handlePing(side, turnipCode, data) {\n    console.log(\"Ping: \" + side);\n    console.log(data);\n    if (side === \"sell\") {\n    } else if (side === \"buy\") {\n    }\n    if (!data.yourPlace && data.onIsland) {\n      console.log(\"Uh-oh: you've lost your place \" + side + \":\" + turnipCode);\n      data.yourPlace = \"-1\";\n    }\n\n    this.handleYourPlaces(\"update\", data, turnipCode);\n    console.log(this.state.yourPlaces);\n    // do you want to differentiate by data?\n    // grab has dodoCode (ping might have it too)\n    //\n    if (data.success) {\n      // data.dodoCode should appear in both pinging and grabbing.\n      if (data.dodoCode) {\n        // play the ding.\n        // this.ding.audioEl.current.play();\n        this.state.dodoCodes[turnipCode] = data.dodoCode;\n        this.playSound(\"ding\");\n      } else {\n        console.log(\"no dodocode\");\n      }\n    }\n  }\n\n  handleURLBase() {\n    console.log(\"handleURLbase\");\n    if (window.location.href.indexOf(\"github\") >= 0) {\n      console.log(\"github detected\");\n      return \"https://stalk-business.herokuapp.com\";\n    }\n\n    return \"\";\n  }\n\n  handleFetch(url, side, turnipCode, callback) {\n    fetch(this.handleURLBase() + url)\n      .then((response) => response.json())\n      .then((data) => callback(side, turnipCode, data));\n  }\n\n  async handleQueue(actionType, sellerTurnipCode, buyerTurnipCode) {\n    console.log(\"handleFetch\");\n    var callBack = this.handleJoin;\n    var sleepCount = 3000;\n    if (actionType === \"grab\" || actionType === \"ping\") {\n      callBack = this.handlePing;\n      sleepCount = 0;\n    }\n    if (sellerTurnipCode) {\n      let seller_url =\n        \"/queue/action/\" +\n        actionType +\n        \"/turnipCode/\" +\n        sellerTurnipCode +\n        \"/visitorID/\" +\n        this.visitorIDs[sellerTurnipCode] +\n        \"/visitorName/\" +\n        this.state.visitorName;\n      console.log(\"Fetch: \" + seller_url);\n      this.handleFetch(seller_url, \"sell\", sellerTurnipCode, callBack);\n    }\n\n    if (actionType === \"join\") {\n      await StalkUtil.sleep(sleepCount);\n    }\n\n    if (buyerTurnipCode) {\n      let buyer_url =\n        \"/queue/action/\" +\n        actionType +\n        \"/turnipCode/\" +\n        buyerTurnipCode +\n        \"/visitorID/\" +\n        this.visitorIDs[buyerTurnipCode] +\n        \"/visitorName/\" +\n        this.state.visitorName;\n      console.log(\"Fetch: \" + buyer_url);\n      this.handleFetch(buyer_url, \"buy\", buyerTurnipCode, callBack);\n    }\n\n    if (actionType === \"join\" || actionType === \"leave\") {\n      this.setTrades(actionType, sellerTurnipCode, buyerTurnipCode);\n    } else {\n      this.getTrades();\n    }\n  }\n\n  async handleClick(element, type, sellerTurnipCode, buyerTurnipCode) {\n    console.log(type + \":\" + sellerTurnipCode + \":\" + buyerTurnipCode);\n    this.currentButtonElement = element;\n    if (type === \"join\") {\n      this.playSound(\"waterdrop\");\n      if (!this.state.statues) {\n        this.state.status = {};\n      }\n      if (!this.state.statuses[sellerTurnipCode]) {\n        this.state.statuses[sellerTurnipCode] = [\n          {\n            action: \"testing\",\n            data: \"ABCD\",\n          },\n        ];\n      }\n      if (!this.state.statuses[buyerTurnipCode]) {\n        this.state.statuses[buyerTurnipCode] = [\n          {\n            action: \"testing\",\n            data: \"ABCD\",\n          },\n        ];\n      }\n      // TODO:  if i join again without leaving (e.g. add more trades)\n      //        i should be able to reuse my visitorID?\n      console.log(\"Generating visitorID\");\n      await this.handleVisitorID(sellerTurnipCode, null);\n      console.log(\"Generating visitorID\");\n      await this.handleVisitorID(buyerTurnipCode, null);\n    }\n    this.handleQueue(type, sellerTurnipCode, buyerTurnipCode);\n  }\n\n  setTrades(type, sellerTurnipCode, buyerTurnipCode) {\n    // could have used index, but the table gets updated dynamically\n    // so might need to discrepancies\n    // giving up on performance.\n    if (type === \"join\") {\n      let sellerIsland;\n      let buyerIsland;\n      this.state.islands.map((island) => {\n        if (island.seller.turnipCode === sellerTurnipCode) {\n          sellerIsland = island.seller;\n        }\n        if (island.buyer.turnipCode === buyerTurnipCode) {\n          buyerIsland = island.buyer;\n        }\n      });\n      if (!sellerIsland) {\n        console.log(\"seller island not found\");\n      }\n      if (!buyerIsland) {\n        console.log(\"buyer island not found\");\n      }\n      if (\n        this.failedTrades[sellerTurnipCode] ||\n        this.failedTrades[buyerTurnipCode]\n      ) {\n        // play error\n        // notify\n        // this.errorSound.audioEl.current.play();\n        // this.notify(\n        //   \"❌ Unable to join the queues: \" +\n        //     this.failedTrades[sellerIsland.turnipCode]\n        //     ? \"(\" +\n        //         sellerIsland.name +\n        //         \")\" +\n        //         this.failedTrades[sellerIsland.turnipCode]\n        //     : \"\" + this.failedTrades[buyerIsland.turnipCode]\n        //     ? \"(\" +\n        //       buyerIsland.name +\n        //       \")\" +\n        //       this.failedTrades[buyerIsland.turnipCode]\n        //     : \"\"\n        // );\n        console.log(\n          \"Unable to add trade: \" + sellerTurnipCode + \" - \" + buyerTurnipCode\n        );\n        let reason = this.failedTrades[sellerTurnipCode]\n          ? this.failedTrades[sellerTurnipCode]\n          : this.failedTrades[buyerTurnipCode];\n        let turnipCode = this.failedTrades[sellerTurnipCode]\n          ? sellerTurnipCode\n          : buyerTurnipCode;\n        let islandName;\n        for (let island of this.state.islands) {\n          if (island.seller.turnipCode === turnipCode) {\n            islandName = island.seller.name;\n            break;\n          } else if (island.seller.turnipCode === turnipCode) {\n            islandName = island.buyer.name;\n            break;\n          }\n        }\n        alert(\"Unable to join \" + islandName + \"'s queue: \" + reason);\n        this.currentButtonElement.toggleLoading();\n        this.setTrades(\"leave\", sellerTurnipCode, buyerTurnipCode);\n      } else {\n        // all good!\n        this.state.yourTrades.push({\n          seller: sellerIsland,\n          buyer: buyerIsland,\n        });\n      }\n    } else if (type === \"leave\") {\n      let rId = -1;\n      this.state.yourTrades.map((island, index) => {\n        if (\n          island.seller.turnipCode === sellerTurnipCode &&\n          island.buyer.turnipCode === buyerTurnipCode\n        ) {\n          rId = index;\n        }\n      });\n      if (rId > -1) {\n        console.log(\"Removing your trades: \" + rId);\n        this.state.yourTrades.splice(rId, 1);\n      }\n      console.log(\"Removing visitorIDs\");\n      if (this.visitorIDs) {\n        delete this.visitorIDs[sellerTurnipCode];\n        delete this.visitorIDs[buyerTurnipCode];\n      }\n\n      console.log(\"Removing turnipQueueIDs\");\n      if (this.state.turnipQueueIDs) {\n        delete this.state.turnipQueueIDs[sellerTurnipCode];\n        delete this.state.turnipQueueIDs[buyerTurnipCode];\n      }\n    }\n    this.setState({\n      yourTrades: this.state.yourTrades,\n    });\n    this.autoSave();\n    this.currentButtonElement.toggleLoading();\n  }\n\n  notify(message) {\n    // toaster.notify(message, {\n    //   duration: 2000,\n    // });\n  }\n\n  playSound(type) {\n    var audioEl = document.getElementsByClassName(\"audio-element-error\")[0];\n    switch (type) {\n      case \"ding\":\n        audioEl = document.getElementsByClassName(\"audio-element-ding\")[0];\n        break;\n      case \"waterdrop\":\n        audioEl = document.getElementsByClassName(\"audio-element-waterdrop\")[0];\n        break;\n      default:\n    }\n    audioEl.play();\n    // console.log(\"playSound\");\n    // this.alertSound.audioEl.current.src = dingMP3;\n    // this.alertSound.audioEl.current.play();\n  }\n\n  getTradesServer() {\n    fetch(this.handleURLBase() + \"/getTrades\")\n      // fetch(\"/getTradesTest\")\n      .then((res) => {\n        if (!res.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        return res.json();\n      })\n      .then((islands) => {\n        this.setState({\n          islands: islands,\n          visitorName: this.state.visitorName,\n          visitorIDs: this.visitorIDs,\n        });\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  }\n\n  // async getTradesDirect() {\n  //   let islands = await Facilitator.getTrades();\n  //   this.setState({\n  //     islands: islands,\n  //     visitorName: this.state.visitorName,\n  //     visitorIDs: this.visitorIDs,\n  //   });\n  // }\n  getTrades() {\n    this.prevState = this.state;\n    console.log(\"consolidating trades...\");\n    this.notify();\n    this.getTradesServer();\n    // this.getTradesDirect();\n  }\n\n  autoSave() {\n    console.log(\"auto-saving trade states\");\n    this.cookies.set(\"tradeState\", \"activated\", { path: \"/\" });\n    this.cookies.set(\"visitorIDs\", this.visitorIDs, {\n      path: \"/\",\n    });\n    this.cookies.set(\"visitorName\", this.state.visitorName, { path: \"/\" });\n    // this.cookies.set(\"yourPlaces\", this.state.yourPlaces, { path: \"/\" });\n    this.cookies.set(\"yourTrades\", this.state.yourTrades, { path: \"/\" });\n    this.cookies.set(\"turnipQueueIDs\", this.state.turnipQueueIDs, {\n      path: \"/\",\n    });\n    console.log(\"New values: \");\n    console.log(this.cookies.cookies);\n  }\n\n  autoPing() {\n    console.log(\"auto ping\");\n    this.state.yourTrades.map((trade) => {\n      this.handleQueue(\"ping\", trade.seller.turnipCode, null);\n      this.handleQueue(\"ping\", null, trade.buyer.turnipCode);\n      this.handleQueue(\"grab\", trade.seller.turnipCode, null);\n      this.handleQueue(\"grab\", null, trade.buyer.turnipCode);\n\n      // debug only.\n      // this.state.dodoCodes[trade.seller.turnipCode] = Math.floor(\n      //   Math.random() * 1000\n      // );\n      // this.state.dodoCodes[trade.buyer.turnipCode] = Math.floor(\n      //   Math.random() * 1000\n      // );\n    });\n  }\n\n  autoRefresh() {\n    var self = this;\n    setInterval(function () {\n      self.getTrades();\n      self.autoSave();\n      self.autoPing();\n    }, 30000);\n  }\n\n  isDevelopment() {\n    if (\n      window.location.href.indexOf(\"localhost\") >= 0 ||\n      window.location.href.indexOf(\"127.0.0.1\") >= 0\n    ) {\n      console.log(\"localhost detected\");\n      return true;\n    }\n\n    return false;\n  }\n\n  initializeGA() {\n    ReactGA.initialize(\"UA-166888774-1\");\n    ReactGA.pageview(\"/stalk.business\");\n  }\n\n  componentDidMount() {\n    this.handleReconnect();\n    this.getTrades();\n    this.autoRefresh();\n    if (!this.isDevelopment()) {\n      this.initializeGA();\n    }\n  }\n\n  handleInfo(event) {\n    switch (event.target.name) {\n      case \"Name\":\n        this.state.visitorName = event.target.value;\n        break;\n      default:\n        console.log(\"Warning: unknown event + \" + event.target.name);\n        break;\n    }\n    this.autoSave();\n  }\n\n  handleClear(event) {\n    console.log(\"Clearing visitorID\");\n    this.state.visitorIDs = {};\n    this.autoSave();\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Container>\n          {/* <ReactAudioPlayer\n            src={dingMP3}\n            ref={(element) => {\n              this.ding = element;\n            }}\n          />\n          <ReactAudioPlayer\n            src={waterdropMP3}\n            ref={(element) => {\n              this.waterdrop = element;\n            }}\n          />\n          <ReactAudioPlayer\n            src={errorMP3}\n            ref={(element) => {\n              this.errorSound = element;\n            }}\n          /> */}\n          <ReactAudioPlayer\n            ref={(element) => {\n              this.alertSound = element;\n            }}\n          />\n\n          <YourInformation\n            visitorName={this.state.visitorName}\n            onInfoChanged={this.handleInfo.bind(this)}\n          />\n          <YourStalkTable\n            trades={this.state.yourTrades}\n            yourPlaces={this.state.yourPlaces}\n            dodoCodes={this.state.dodoCodes}\n            statuses={this.state.statuses}\n            queueIDs={this.state.turnipQueueIDs}\n            sectionName=\"Your Stalks\"\n            sectionIcon={<Icon name=\"dolly\" />}\n            onHandleClick={this.handleClick.bind(this)}\n          />\n          <StalkMarketTable\n            trades={this.state.islands}\n            queueIDs={this.state.turnipQueueIDs}\n            onHandleClick={this.handleClick.bind(this)}\n            sectionName=\"Stalk Market\"\n            sectionIcon={<Icon name=\"money bill alternate\" />}\n          />\n          {\n            // below is ugly, to be refactored\n          }\n          <div>\n            <audio className=\"audio-element-ding\">\n              <source src={dingMP3}></source>\n            </audio>\n          </div>\n          <div>\n            <audio className=\"audio-element-error\">\n              <source src={errorMP3}></source>\n            </audio>\n          </div>\n          <div>\n            <audio className=\"audio-element-waterdrop\">\n              <source src={waterdropMP3}></source>\n            </audio>\n          </div>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default TradeMainPage;\n","import React from \"react\";\nimport \"./App.css\";\nimport TradeMainPage from \"./components/TradeMainPage\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div>\n        <TradeMainPage />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\n// Semantic-UI stylesheets\nconst styleLink = document.createElement(\"link\");\nstyleLink.rel = \"stylesheet\";\nstyleLink.href =\n  \"https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css\";\ndocument.head.appendChild(styleLink);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}